<html>
    <head>
        <meta charset="UTF-8">
        <title>출력결과</title>
    </head>
    <body>
        <script>
            // 경로탐색 - 인접리스트
            function solution(n, arr){  
                let graph = Array.from(Array(n + 1), () => Array()); // 배열 간선 연결
                let check = Array.from({ length: n + 1 }, () => 0); // 방문여부 체크
                let answer = 0;
                let path = []; // 경로 체크를 위한 배열

                for (let [a, b] of arr) {
                    graph[a].push(b);
                }

                function DFS(depth){
                    if(depth === n){
                        answer++;
                        console.log(path)
                    } else {
                        // for(let i=1; i<=n; i++){
                        //     if (graph[depth].length > 0 && check[i] === 0) {
                        //         check[i] = 1;
                        //         path.push(i)
                        //         console.log(">>>>>push", i)
                        //         DFS(i);
                        //         check[i] = 0;
                        //         path.pop();
                        //         console.log("-------pop", i)
                        //     }
                        // }
                        for(let i of graph[depth]) {
                            if (check[i] === 0) {
                                check[i] = 1;
                                path.push(i);
                                DFS(i);
                                check[i] = 0;
                                path.pop();
                            }
                        }
                    }
                }

                check[1] = 1;
                path.push(1);
                DFS(1);
                return answer;
            }

            let arr=[[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
            console.log(solution(5, arr));
        </script>
    </body>
</html>

<!-- 
    Graph
    - 인접행렬 : 2차원 배열
    - 인접리스트 : 인접한 노드를 리스트에 넣는다
 -->